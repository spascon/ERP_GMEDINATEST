@model ERP_GMEDINA.Models.tbDevolucionDetalle
@using ERP_GMEDINA.Models

<div class="ibox-content">

    @using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()

        <div class="form-horizontal">

            @Html.ValidationSummary(true)


            <div class="form-group">
                @Html.LabelFor(model => model.prod_Codigo, "Codigo Producto", new { @class = "control-label col-md-2" })
                <div class="col-md-2">
                    @Html.EditorFor(model => model.prod_Codigo)
                    @Html.ValidationMessageFor(model => model.prod_Codigo)
                </div>
                <div class="col-md-1">
                    <button type="button" id="btnProducto" class="btn btn-primary" data-toggle="modal" data-target="#ModalBuscarProducto"><span class="glyphicon glyphicon-search"></span></button>
                </div>

                @Html.LabelFor(model => model.devd_Descripcion, "Descripción", new { @class = "control-label col-md-2" })
                <div class="col-md-3">
                    <input type="text" value="" id="DescripcionProducto" class="form-control " />
                </div>

            </div>

            <div class="form-group">

                <label class="control-label col-md-2">Cantidad Facturada</label>
                <div class="col-md-3">
                    <input type="text" value="" class="form-control" id="CantidadFacturada" />
                </div>
                @Html.LabelFor(model => model.devd_CantidadProducto, "Cantidad Devolución", new { @class = "control-label col-md-2" })
                <div class="col-md-3">
                    <input type="text" value="" id="CantidadDevolucion" class="form-control " />
                    @*@Html.EditorFor(model => model.devd_CantidadProducto)*@
                    @Html.ValidationMessageFor(model => model.devd_CantidadProducto)
                </div>

            </div>
            <div class="form-group">

                <label class="control-label col-md-2">Valor Unitario</label>
                <div class="col-md-3">
                    <input type="text" value="" id="PrecioUnit" class="form-control " />
                </div>


                <label class="control-label col-md-2">Sub-Total</label>
                <div class="col-md-3">
                    <input type="text" value="" class="form-control " id="SubtotalDev" />
                </div>
            </div>

            <div class="form-group">


                <label class="control-label col-md-2">% Impuesto</label>
                <div class="col-md-3">
                    <input type="text" value="" class="form-control " id="ImpuestoD" />
                </div>

                <label class="control-label col-md-2">Monto Impuesto</label>
                <div class="col-md-3">
                    <input type="text" value="" class="form-control " id="ValImpuesto" />
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-md-2">% Descuento</label>
                <div class="col-md-3">
                    <input type="text" value="" class="form-control " id="PorDescuento" />
                </div>
                <label class="control-label col-md-2">Monto Descuento</label>
                <div class="col-md-3">
                    <input type="text" value="" class="form-control " id="MontoDesc" />
                </div>
            </div>
            <div class="form-group">

                @Html.LabelFor(model => model.devd_Monto, "Monto Total", new { @class = "control-label   col-md-2" })
                <div class="col-md-offset col-md-3">
                    <input type="text" value="" class="form-control " id="MontoDevolu" />
                    <div id="validationProductoDevolucionCreate">
                        @Html.ValidationMessageFor(model => model.devd_Monto)
                    </div>

                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.devd_Descripcion, "Observaciones", new { @class = "control-label col-md-2" })
                <div class="col-md-8">
                    @Html.TextAreaFor(model => model.devd_Descripcion, new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.devd_Descripcion)
                </div>
                <div class="col-md-1">
                    <button class="btn btn-primary" type="button" id="btnEditarDetalle">Añadir</button>
                </div>
            </div>

        </div>
    }
    <table id="tbDetalleDevolucion" class="table table-striped table-bordered table-hover dataTables-example">
        <thead>
            <tr>
                <th>Código Producto</th>
                <th>Producto</th>
                <th>Cantidad</th>
                <th>Observaciones</th>
                <th>Monto</th>
                @*<th>Descuento</th>*@
                <th></th>
            </tr>
        </thead>
        <tbody></tbody>
        <tfoot>
            <tr>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
            </tr>
        </tfoot>
    </table>
</div>
   

<div>
    <div class="modal fade" id="ModalBuscarProducto" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title" id="myModalLabel">Agregar Producto</h4>
                </div>
                <div class="modal-body" id="frmListaProducto">
                    @Html.Partial("_ProductoDevolucionFactura", (List<tbFacturaDetalle>)ViewBag.FacturaDetalle)
                </div>
            </div>
        </div>
    </div>
</div>
<script src="~/Scripts/app/DevolucionCalculos.js"></script>
